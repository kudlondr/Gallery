<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:j="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html">

<ui:composition template="/WEB-INF/templates/loginTemplate.xhtml">
	<ui:debug />
	<ui:define name="content">
		<table>
			<j:forEach var="imageItem" items="#{imageBean.currentImages}">
				<tr>
					<td>
						<p>
							<h:form>
								<h:commandLink action="#{imageItem.goToDetail(userBean)}">
									<h:outputText value="#{imageItem.name}" />
								</h:commandLink>
							</h:form>
							<h:outputText value=" by " />
							<h:form>
								<h:commandLink action="#{userBean.goToDetail(imageItem.owner.id)}">
									<h:outputText value="#{imageItem.owner.username}" />
								</h:commandLink>
							</h:form>
						</p>
						<h:form>
							<h:commandLink action="#{imageItem.goToDetail(userBean)}">
								<img src="/Gallery/faces/images/${imageItem.id}?preview" style="max-height: 200px; max-width: 500px;"/>
							</h:commandLink>
						</h:form>
					</td>
				</tr>
			</j:forEach>
		</table>
	</ui:define>
</ui:composition>
</html>
